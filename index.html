function updateEntryNavigationButtons() {
    const entries = document.querySelectorAll('.journal-entry');
    allEntries = Array.from(entries);
    
    const upButton = document.getElementById('floatingNavigateUp');
    const downButton = document.getElementById('floatingNavigateDown');
    
    if (allEntries.length > 1) {
        // Afficher les boutons seulement s'il y a plus d'une fiche
        upButton.style.display = 'flex';
        downButton.style.display = 'flex';
        
        // CORRECTION ICI : Toujours réinitialiser à la première fiche
        if (currentEntryIndex === -1 || currentEntryIndex >= allEntries.length) {
            currentEntryIndex = 0;
        }
        
        // Mettre à jour les états des boutons
        upButton.disabled = currentEntryIndex === 0;
        downButton.disabled = currentEntryIndex === allEntries.length - 1;
        
        // Changer l'opacité pour indiquer l'état désactivé
        upButton.style.opacity = currentEntryIndex === 0 ? '0.5' : '1';
        downButton.style.opacity = currentEntryIndex === allEntries.length - 1 ? '0.5' : '1';
        
        // Mettre à jour le titre des boutons
        if (currentEntryIndex >= 0) {
            const dayNumber = allEntries[currentEntryIndex].querySelector('.jour-number')?.textContent || `Fiche ${currentEntryIndex + 1}`;
            upButton.title = `Fiche précédente (${currentEntryIndex}/${allEntries.length - 1})`;
            downButton.title = `Fiche suivante - ${dayNumber} (${currentEntryIndex + 2}/${allEntries.length})`;
        }
    } else {
        // Masquer les boutons s'il n'y a qu'une seule fiche ou aucune
        upButton.style.display = 'none';
        downButton.style.display = 'none';
    }
}
